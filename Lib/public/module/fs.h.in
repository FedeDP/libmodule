#pragma once

#include "mod.h"
#include <sys/ioctl.h>      // ioctl support

#define LIBMODULE_MAGIC        'm' // libmodule API global prefix

enum {
    M_MOD_FS_STATE               = _IOR(LIBMODULE_MAGIC, 0, m_mod_states),
    M_MOD_FS_START               = _IO(LIBMODULE_MAGIC, 1),
    M_MOD_FS_STOP                = _IO(LIBMODULE_MAGIC, 2),
    M_MOD_FS_RESUME              = _IO(LIBMODULE_MAGIC, 3),
    M_MOD_FS_PAUSE               = _IO(LIBMODULE_MAGIC, 4),
    M_MOD_FS_STATS               = _IOR(LIBMODULE_MAGIC, 5, m_mod_stats_t),
};

const char *m_ctx_fs_get_root(const m_ctx_t *c);
int m_ctx_fs_set_root(m_ctx_t *c, const char *path);
